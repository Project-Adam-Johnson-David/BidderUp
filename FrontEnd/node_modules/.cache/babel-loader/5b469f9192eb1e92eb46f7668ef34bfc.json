{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\adamb\\\\P2\\\\Project2\\\\FrontEnd\\\\src\\\\Components\\\\Account.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport Navbar from \"./Navbar\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Account(props) {\n  _s();\n\n  // const [balance, setBalance] = useState(localStorage.getItem(\"user\").balance)\n  const [balance, setBalance] = useState(0);\n  const [deposit, setDeposit] = useState(0);\n  const [withdrawal, setWithdrawal] = useState(0);\n  let username = props.username;\n  React.useEffect(() => {\n    getBalance();\n  }, []);\n\n  async function getBalance() {\n    await axios.get('http://localhost:8080/user/getBalance', null, {\n      params: {\n        username\n      }\n    }).then(response => {\n      const newBalance = response.data;\n      setBalance(newBalance);\n      alert(\"account deposited into successfully\"); //history.push('/EmployeeHome')\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  async function postDeposit() {\n    //axios.post('http://localhost:8080/balance', user)\n    await axios.post('http://localhost:8080/user/deposit', null, {\n      params: {\n        deposit,\n        username\n      }\n    }).then(response => {\n      const newBalance = Number(balance) + Number(deposit);\n      setBalance(newBalance);\n      alert(\"account deposited into succesfully\"); //history.push('/EmployeeHome')\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  ;\n\n  async function postWithdrawal() {\n    //axios.post('http://localhost:8080/balance', user)\n    await axios.post('http://localhost:8080/user/withdrawal', null, {\n      params: {\n        withdrawal,\n        username\n      }\n    }).then(response => {\n      console.log(response);\n      const newBalance = Number(balance) - Number(withdrawal);\n      setBalance(newBalance);\n      alert(\"account withdrawn from succesfully\"); //history.push('/EmployeeHome')\n    }).catch(error => {\n      alert(\"Balance can't be below 0!\");\n      console.log(error);\n    });\n  }\n\n  ;\n\n  const submitDeposit = e => {\n    e.preventDefault();\n    console.log(\"submit deposit\");\n    postDeposit();\n  };\n\n  const submitWithdrawal = e => {\n    e.preventDefault();\n    console.log(\"submit withdrawal\");\n    postWithdrawal();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      goHome: props.goHome,\n      goAccount: props.goAccount,\n      goPayments: props.goPayments,\n      goViewBalance: props.goViewBalance,\n      username: props.username,\n      logOut: props.logOut,\n      goPostNewItem: props.goPostNewItem\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this), \"Your current BidderUp Balance is: \", balance, /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submitDeposit,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Make a Deposit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        onChange: e => {\n          setDeposit(e.target.value);\n        },\n        placeholder: \"e.g 100\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Deposit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submitWithdrawal,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Make a Withdrawal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        onChange: e => {\n          setWithdrawal(e.target.value);\n        },\n        placeholder: \"e.g 100\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Withdraw\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Account, \"5SaMTdbSiyR9gm5NM+64mbHtgUA=\");\n\n_c = Account;\nexport default Account;\n\nvar _c;\n\n$RefreshReg$(_c, \"Account\");","map":{"version":3,"sources":["C:/Users/adamb/P2/Project2/FrontEnd/src/Components/Account.js"],"names":["axios","React","useEffect","useState","Navbar","Account","props","balance","setBalance","deposit","setDeposit","withdrawal","setWithdrawal","username","getBalance","get","params","then","response","newBalance","data","alert","catch","error","console","log","postDeposit","post","Number","postWithdrawal","submitDeposit","e","preventDefault","submitWithdrawal","goHome","goAccount","goPayments","goViewBalance","logOut","goPostNewItem","target","value"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,UAAnB;;;AAEA,SAASC,OAAT,CAAiBC,KAAjB,EAAwB;AAAA;;AACpB;AACA,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBL,QAAQ,CAAC,CAAD,CAAtC;AACA,QAAM,CAACM,OAAD,EAAUC,UAAV,IAAwBP,QAAQ,CAAC,CAAD,CAAtC;AACA,QAAM,CAACQ,UAAD,EAAaC,aAAb,IAA8BT,QAAQ,CAAC,CAAD,CAA5C;AACA,MAAIU,QAAQ,GAAGP,KAAK,CAACO,QAArB;AAIAZ,EAAAA,KAAK,CAACC,SAAN,CAAgB,MAAI;AAChBY,IAAAA,UAAU;AACb,GAFD,EAEE,EAFF;;AAIA,iBAAeA,UAAf,GAA4B;AACxB,UAAMd,KAAK,CAACe,GAAN,CAAU,uCAAV,EAAmD,IAAnD,EAAyD;AAACC,MAAAA,MAAM,EAAE;AAACH,QAAAA;AAAD;AAAT,KAAzD,EACDI,IADC,CACIC,QAAQ,IAAI;AACd,YAAMC,UAAU,GAAGD,QAAQ,CAACE,IAA5B;AACAZ,MAAAA,UAAU,CAACW,UAAD,CAAV;AACAE,MAAAA,KAAK,CAAC,qCAAD,CAAL,CAHc,CAId;AACH,KANC,EAODC,KAPC,CAOKC,KAAK,IAAI;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,KATC,CAAN;AAUH;;AAED,iBAAeG,WAAf,GAA6B;AACzB;AACA,UAAM1B,KAAK,CAAC2B,IAAN,CAAW,oCAAX,EAAiD,IAAjD,EAAuD;AAACX,MAAAA,MAAM,EAAE;AAACP,QAAAA,OAAD;AAAUI,QAAAA;AAAV;AAAT,KAAvD,EACDI,IADC,CACIC,QAAQ,IAAI;AACd,YAAMC,UAAU,GAAGS,MAAM,CAACrB,OAAD,CAAN,GAAkBqB,MAAM,CAACnB,OAAD,CAA3C;AACAD,MAAAA,UAAU,CAACW,UAAD,CAAV;AACAE,MAAAA,KAAK,CAAC,oCAAD,CAAL,CAHc,CAId;AACH,KANC,EAODC,KAPC,CAOKC,KAAK,IAAI;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,KATC,CAAN;AAUH;;AAAA;;AAED,iBAAeM,cAAf,GAAgC;AAE5B;AACA,UAAM7B,KAAK,CAAC2B,IAAN,CAAW,uCAAX,EAAoD,IAApD,EAA0D;AAACX,MAAAA,MAAM,EAAE;AAACL,QAAAA,UAAD;AAAaE,QAAAA;AAAb;AAAT,KAA1D,EACDI,IADC,CACIC,QAAQ,IAAI;AACdM,MAAAA,OAAO,CAACC,GAAR,CAAYP,QAAZ;AACA,YAAMC,UAAU,GAAGS,MAAM,CAACrB,OAAD,CAAN,GAAkBqB,MAAM,CAACjB,UAAD,CAA3C;AACAH,MAAAA,UAAU,CAACW,UAAD,CAAV;AACAE,MAAAA,KAAK,CAAC,oCAAD,CAAL,CAJc,CAKd;AACH,KAPC,EAQDC,KARC,CAQKC,KAAK,IAAI;AACZF,MAAAA,KAAK,CAAC,2BAAD,CAAL;AACAG,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,KAXC,CAAN;AAYH;;AAAA;;AAED,QAAMO,aAAa,GAAIC,CAAD,IAAO;AACzBA,IAAAA,CAAC,CAACC,cAAF;AACAR,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACAC,IAAAA,WAAW;AACd,GAJD;;AAMA,QAAMO,gBAAgB,GAAIF,CAAD,IAAO;AAC5BA,IAAAA,CAAC,CAACC,cAAF;AACAR,IAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACAI,IAAAA,cAAc;AACjB,GAJD;;AAOA,sBACI;AAAA,4BAEI,QAAC,MAAD;AAAQ,MAAA,MAAM,EAAEvB,KAAK,CAAC4B,MAAtB;AAA8B,MAAA,SAAS,EAAE5B,KAAK,CAAC6B,SAA/C;AAA0D,MAAA,UAAU,EAAE7B,KAAK,CAAC8B,UAA5E;AACQ,MAAA,aAAa,EAAE9B,KAAK,CAAC+B,aAD7B;AAC4C,MAAA,QAAQ,EAAE/B,KAAK,CAACO,QAD5D;AACsE,MAAA,MAAM,EAAEP,KAAK,CAACgC,MADpF;AAEQ,MAAA,aAAa,EAAEhC,KAAK,CAACiC;AAF7B;AAAA;AAAA;AAAA;AAAA,YAFJ,wCAKuChC,OALvC,eAOI;AAAM,MAAA,QAAQ,EAAEuB,aAAhB;AAAA,8BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,QAAQ,EAAEC,CAAC,IAAI;AAAErB,UAAAA,UAAU,CAACqB,CAAC,CAACS,MAAF,CAASC,KAAV,CAAV;AAA4B,SAAhE;AAAkE,QAAA,WAAW,EAAC;AAA9E;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAPJ,eAYI;AAAM,MAAA,QAAQ,EAAER,gBAAhB;AAAA,8BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,QAAQ,EAAEF,CAAC,IAAI;AAAEnB,UAAAA,aAAa,CAACmB,CAAC,CAACS,MAAF,CAASC,KAAV,CAAb;AAA+B,SAAnE;AAAqE,QAAA,WAAW,EAAC;AAAjF;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAZJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAoBH;;GA1FQpC,O;;KAAAA,O;AA4FT,eAAeA,OAAf","sourcesContent":["import axios from 'axios'\r\nimport React, { useEffect, useState } from 'react'\r\nimport Navbar from \"./Navbar\";\r\n\r\nfunction Account(props) {\r\n    // const [balance, setBalance] = useState(localStorage.getItem(\"user\").balance)\r\n    const [balance, setBalance] = useState(0)\r\n    const [deposit, setDeposit] = useState(0)\r\n    const [withdrawal, setWithdrawal] = useState(0)\r\n    let username = props.username;\r\n\r\n\r\n\r\n    React.useEffect(()=>{\r\n        getBalance();\r\n    },[])\r\n\r\n    async function getBalance() {\r\n        await axios.get('http://localhost:8080/user/getBalance', null, {params: {username}})\r\n            .then(response => {\r\n                const newBalance = response.data;\r\n                setBalance(newBalance)\r\n                alert(\"account deposited into successfully\")\r\n                //history.push('/EmployeeHome')\r\n            })\r\n            .catch(error => {\r\n                console.log(error)\r\n            })\r\n    }\r\n\r\n    async function postDeposit() {\r\n        //axios.post('http://localhost:8080/balance', user)\r\n        await axios.post('http://localhost:8080/user/deposit', null, {params: {deposit, username}})\r\n            .then(response => {\r\n                const newBalance = Number(balance) + Number(deposit)\r\n                setBalance(newBalance)\r\n                alert(\"account deposited into succesfully\")\r\n                //history.push('/EmployeeHome')\r\n            })\r\n            .catch(error => {\r\n                console.log(error)\r\n            })\r\n    };\r\n\r\n    async function postWithdrawal() {\r\n\r\n        //axios.post('http://localhost:8080/balance', user)\r\n        await axios.post('http://localhost:8080/user/withdrawal', null, {params: {withdrawal ,username}})\r\n            .then(response => {\r\n                console.log(response)\r\n                const newBalance = Number(balance) - Number(withdrawal)\r\n                setBalance(newBalance)\r\n                alert(\"account withdrawn from succesfully\")\r\n                //history.push('/EmployeeHome')\r\n            })\r\n            .catch(error => {\r\n                alert(\"Balance can't be below 0!\")\r\n                console.log(error)\r\n            })\r\n    };\r\n\r\n    const submitDeposit = (e) => {\r\n        e.preventDefault()\r\n        console.log(\"submit deposit\")\r\n        postDeposit()\r\n    }\r\n\r\n    const submitWithdrawal = (e) => {\r\n        e.preventDefault()\r\n        console.log(\"submit withdrawal\")\r\n        postWithdrawal()\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n\r\n            <Navbar goHome={props.goHome} goAccount={props.goAccount} goPayments={props.goPayments}\r\n                    goViewBalance={props.goViewBalance} username={props.username} logOut={props.logOut}\r\n                    goPostNewItem={props.goPostNewItem}/>\r\n            Your current BidderUp Balance is: {balance}\r\n\r\n            <form onSubmit={submitDeposit}>\r\n                <p>Make a Deposit</p>\r\n                <input type=\"text\" onChange={e => { setDeposit(e.target.value) }} placeholder=\"e.g 100\" />\r\n                <button>Deposit</button>\r\n            </form>\r\n            <form onSubmit={submitWithdrawal}>\r\n                <p>Make a Withdrawal</p>\r\n                <input type=\"text\" onChange={e => { setWithdrawal(e.target.value) }} placeholder=\"e.g 100\" />\r\n                <button>Withdraw</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Account"]},"metadata":{},"sourceType":"module"}